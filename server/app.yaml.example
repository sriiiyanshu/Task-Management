runtime: nodejs20

instance_class: F1

automatic_scaling:
  target_cpu_utilization: 0.65
  min_instances: 0
  max_instances: 2

env_variables:
  NODE_ENV: "production"
  PORT: "8080"
  DATABASE_URL: "postgresql://YOUR_USER:YOUR_PASSWORD@YOUR_HOST.neon.tech/YOUR_DATABASE?sslmode=require"
  JWT_SECRET: "YOUR_JWT_SECRET"
  GOOGLE_CLIENT_ID: "YOUR_CLIENT_ID.apps.googleusercontent.com"
  GOOGLE_CLIENT_SECRET: "YOUR_CLIENT_SECRET"
  GOOGLE_CALLBACK_URL: "https://YOUR_PROJECT_ID.el.r.appspot.com/auth/google/callback"
  CLIENT_URL: "https://your-app-name.vercel.app"

handlers:
  - url: /.*
    script: auto
    secure: always
